<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.81.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>NFS服务 | KubeCube</title><meta name=description content="开源容器平台"><meta property="og:title" content="NFS服务"><meta property="og:description" content="本文档介绍了如何在 KubeCube 上接入 NFS 服务。
准备工作 登录 NFS 服务器
  通过 NFS 导出文件为 KubeCube 分配服务器访问权限
修改 /etc/exports 文件，添加 {导出目录} {KubeCube应用所在节点IP}(rw,sync,no_subtree_check,insecure)。如：
  重新启动 NFS 服务器
systemctl restart nfs-kernel-server   为 KubeCube 打开防火墙
ufw allow from {KubeCube所在节点IP} to any port nfs   登录 K8s 集群 worker 节点
  安装 NFS Common
apt-get install nfs-common 或 yum install nfs-utils等。
  修改/etc/kubernetes/manifests/kube-apiserver.yaml文件，添加- --feature-gates=RemoveSelfLink=false。
  创建 StorageClass 登录 KubeCube 所在节点，创建以下文件并 apply，请根据实际环境修改部分参数。"><meta property="og:type" content="article"><meta property="og:url" content="https://kubecube-io.github.io/docs/user-guide/network-storage/nfs/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2021-09-10T17:46:05+08:00"><meta property="og:site_name" content="KubeCube"><meta itemprop=name content="NFS服务"><meta itemprop=description content="本文档介绍了如何在 KubeCube 上接入 NFS 服务。
准备工作 登录 NFS 服务器
  通过 NFS 导出文件为 KubeCube 分配服务器访问权限
修改 /etc/exports 文件，添加 {导出目录} {KubeCube应用所在节点IP}(rw,sync,no_subtree_check,insecure)。如：
  重新启动 NFS 服务器
systemctl restart nfs-kernel-server   为 KubeCube 打开防火墙
ufw allow from {KubeCube所在节点IP} to any port nfs   登录 K8s 集群 worker 节点
  安装 NFS Common
apt-get install nfs-common 或 yum install nfs-utils等。
  修改/etc/kubernetes/manifests/kube-apiserver.yaml文件，添加- --feature-gates=RemoveSelfLink=false。
  创建 StorageClass 登录 KubeCube 所在节点，创建以下文件并 apply，请根据实际环境修改部分参数。"><meta itemprop=dateModified content="2021-09-10T17:46:05+08:00"><meta itemprop=wordCount content="156"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="NFS服务"><meta name=twitter:description content="本文档介绍了如何在 KubeCube 上接入 NFS 服务。
准备工作 登录 NFS 服务器
  通过 NFS 导出文件为 KubeCube 分配服务器访问权限
修改 /etc/exports 文件，添加 {导出目录} {KubeCube应用所在节点IP}(rw,sync,no_subtree_check,insecure)。如：
  重新启动 NFS 服务器
systemctl restart nfs-kernel-server   为 KubeCube 打开防火墙
ufw allow from {KubeCube所在节点IP} to any port nfs   登录 K8s 集群 worker 节点
  安装 NFS Common
apt-get install nfs-common 或 yum install nfs-utils等。
  修改/etc/kubernetes/manifests/kube-apiserver.yaml文件，添加- --feature-gates=RemoveSelfLink=false。
  创建 StorageClass 登录 KubeCube 所在节点，创建以下文件并 apply，请根据实际环境修改部分参数。"><link rel=preload href=/scss/main.min.810b672b8acd789a78e1ee9e004e599d749572bd1fbb0d001f26f2e5c568c907.css as=style><link href=/scss/main.min.810b672b8acd789a78e1ee9e004e599d749572bd1fbb0d001f26f2e5c568c907.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg width="4984" height="1e3" viewBox="0 0 4984 1e3" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3551.54 432.823C3552.84 435.556 3555.59 437.298 3558.62 437.298H3658.46C3663.69 437.298 3667.45 432.277 3665.98 427.259 3634.56 319.831 3535.31 241.352 3417.7 241.352H3402.03c-142.85.0-258.65 115.801-258.65 258.648v31.352c0 142.847 115.8 258.648 258.65 258.648H3417.7c117.61.0 216.86-78.48 248.28-185.907C3667.45 599.075 3663.69 594.054 3658.46 594.054H3558.62C3555.59 594.054 3552.84 595.796 3551.54 598.529 3526.37 651.507 3472.39 688.108 3409.87 688.108 3323.29 688.108 3253.11 617.926 3253.11 531.352V5e2C3253.11 413.426 3323.29 343.243 3409.87 343.243c62.52.0 116.5 36.601 141.67 89.58z" fill="#333"/><path fill-rule="evenodd" clip-rule="evenodd" d="M4970.89 651.516C4972.68 646.419 4968.9 641.081 4963.5 641.081H4867.67C4865.09 641.081 4862.68 642.35 4861.21 644.474 4842.85 671.15 4813.84 688.108 4781.45 688.108 4736.6 688.108 4698.03 655.443 4685.65 609.73h288.5C4978.15 609.73 4981.51 606.719 4981.95 602.744 4982.82 594.747 4983.27 586.616 4983.27 578.378c0-116.507-90-211.621-201.820000000001-211.621-111.83.0-201.83 95.114-201.83 211.621S4669.62 790 4781.45 790C4868.6 790 4942.57 732.144 4970.89 651.516zM4781.45 468.649C4819.59 468.649 4853.14 492.229 4869.98 527.433H4692.92C4709.75 492.229 4743.3 468.649 4781.45 468.649z" fill="#333"/><path d="M3727 386C3727 381.582 3730.58 378 3735 378h86C3825.42 378 3829 381.582 3829 386V612.5C3829 654.197 3862.8 688 3904.5 688s75.5-33.803 75.5-75.5V386C3980 381.582 3983.58 378 3988 378h86C4078.42 378 4082 381.582 4082 386V770C4082 774.418 4078.42 778 4074 778h-86C3983.58 778 3980 774.418 3980 770V764.6C3954.53 780.689 3924.35 790 3892 790 3800.87 790 3727 716.127 3727 625V386z" fill="#333"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3072.22 651.516C3074.01 646.419 3070.22 641.081 3064.82 641.081H2968.99C2966.42 641.081 2964 642.35 2962.54 644.474 2944.17 671.15 2915.17 688.108 2882.77 688.108 2837.92 688.108 2799.35 655.443 2786.97 609.73h288.51C3079.48 609.73 3082.84 606.719 3083.27 602.744 3084.15 594.747 3084.59 586.616 3084.59 578.378c0-116.507-90-211.621-201.82-211.621s-201.82 95.114-201.82 211.621S2770.95 790 2882.77 790C2969.93 790 3043.9 732.144 3072.22 651.516zM2882.77 468.649C2920.92 468.649 2954.47 492.229 2971.3 527.433H2794.24C2811.07 492.229 2844.62 468.649 2882.77 468.649z" fill="#333"/><path d="M1342 770.243C1342 774.661 1345.58 778.243 1350 778.243H1435.89c4.41999999999985.0 8-3.58200000000011 8-8V592.206L1495.37 540.725l196.9 234.656C1693.79 777.193 1696.04 778.239 1698.4 778.239h112.12C1817.32 778.239 1821.02 770.302 1816.65 765.096L1567.7 468.401l244.74-244.744C1817.48 218.617 1813.91 210 1806.78 210H1685.31C1683.19 210 1681.16 210.843 1679.66 212.343L1443.89 448.109V218C1443.89 213.582 1440.31 210 1435.89 210H1350C1345.58 210 1342 213.582 1342 218V770.243z" fill="#333"/><path d="M1828 386C1828 381.582 1831.58 378 1836 378h86C1926.42 378 1930 381.582 1930 386V612.5c0 41.697 33.8 75.5 75.5 75.5s75.5-33.803 75.5-75.5V386C2081 381.582 2084.58 378 2089 378h86C2179.42 378 2183 381.582 2183 386V770C2183 774.418 2179.42 778 2175 778h-86C2084.58 778 2081 774.418 2081 770V764.6C2055.53 780.689 2025.35 790 1993 790 1901.87 790 1828 716.127 1828 625V386z" fill="#333"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2254 210C2249.58 210 2246 213.582 2246 218V770C2246 774.418 2249.58 778 2254 778h86C2344.42 778 2348 774.418 2348 770V757.487C2378.39 778.082 2414.4 790 2453 790c108.8.0 197-94.692 197-211.5S2561.8 367 2453 367C2414.4 367 2378.39 378.918 2348 399.513V218C2348 213.582 2344.42 210 2340 210h-86zm94 368.5c0 60.475 44.77 109.5 1e2 109.5s1e2-49.025 1e2-109.5S2503.23 469 2448 469s-1e2 49.025-1e2 109.5z" fill="#333"/><path fill-rule="evenodd" clip-rule="evenodd" d="M4153 210C4148.58 210 4145 213.582 4145 218V770C4145 774.418 4148.58 778 4153 778h86C4243.42 778 4247 774.418 4247 770V757.487C4277.39 778.082 4313.4 790 4352 790c108.8.0 197-94.692 197-211.5S4460.8 367 4352 367C4313.4 367 4277.39 378.918 4247 399.513V218C4247 213.582 4243.42 210 4239 210h-86zm94 368.5C4247 638.975 4291.77 688 4347 688s1e2-49.025 1e2-109.5S4402.23 469 4347 469s-1e2 49.025-1e2 109.5z" fill="#333"/><path d="M554.586 39C564.593 21.6667 552.084.0 532.069.0H346.41c-35.726.0-68.739 19.0599-86.602 50L28.8676 450C11.0043 480.94 11.0042 519.06 28.8675 550L259.808 950C277.671 980.94 310.684 1e3 346.41 1e3H447.276C456.208 1e3 464.461 995.235 468.927 987.5L612.399 739C622.406 721.667 609.897 7e2 589.882 7e2H427.239C412.949 7e2 399.743 692.376 392.598 680L300.222 520C293.077 507.624 293.077 492.376 300.222 480l85.964-148.894L386 330.999 554.586 39z" fill="#0056ff"/><path d="M564.401 3e2C544.386 3e2 531.877 278.333 541.884 261L685.356 12.5C689.822 4.76496 698.075.0 707.006.0H808.29C844.017.0 877.03 19.06 894.893 50.0001L1125.83 450C1143.7 480.94 1143.7 519.06 1125.83 550L894.893 950C877.03 980.94 844.017 1e3 808.29 1e3H622.214C602.199 1e3 589.69 978.333 599.697 961L750.385 7e2H750.555L854.478 520C861.624 507.624 861.624 492.376 854.478 480L762.102 320C754.957 307.624 741.752 3e2 727.461 3e2H564.401z" fill="#0056ff"/></svg></span><span class="text-uppercase font-weight-bold">KubeCube</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>文档</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>博客</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/kubecube-io/kubecube target=_blank><i class="fab fa-github"></i><span>GitHub</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off data-offline-search-index-json-src=/offline-search-index.f10456de1f56c7235a589cf2c02c05a1.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off data-offline-search-index-json-src=/offline-search-index.f10456de1f56c7235a589cf2c02c05a1.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>文档</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsoverview-li><input type=checkbox id=m-docsoverview-check>
<label for=m-docsoverview-check><a href=/docs/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsoverview><span>介绍</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsoverviewoverview-li><input type=checkbox id=m-docsoverviewoverview-check>
<label for=m-docsoverviewoverview-check><a href=/docs/overview/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsoverviewoverview><span>产品介绍</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsoverviewarchitecture-li><input type=checkbox id=m-docsoverviewarchitecture-check>
<label for=m-docsoverviewarchitecture-check><a href=/docs/overview/architecture/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsoverviewarchitecture><span>产品架构</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsquick-start-li><input type=checkbox id=m-docsquick-start-check>
<label for=m-docsquick-start-check><a href=/docs/quick-start/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsquick-start><span>快速入门</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsquick-startinstallation-li><input type=checkbox id=m-docsquick-startinstallation-check>
<label for=m-docsquick-startinstallation-check><a href=/docs/quick-start/installation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsquick-startinstallation><span>快速部署</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsquick-startquick-experience-li><input type=checkbox id=m-docsquick-startquick-experience-check>
<label for=m-docsquick-startquick-experience-check><a href=/docs/quick-start/quick-experience/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsquick-startquick-experience><span>快速体验</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsinstallation-guide-li><input type=checkbox id=m-docsinstallation-guide-check>
<label for=m-docsinstallation-guide-check><a href=/docs/installation-guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsinstallation-guide><span>部署指南</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstallation-guiderequirement-li><input type=checkbox id=m-docsinstallation-guiderequirement-check>
<label for=m-docsinstallation-guiderequirement-check><a href=/docs/installation-guide/requirement/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstallation-guiderequirement><span>部署环境要求</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstallation-guideall-in-one-li><input type=checkbox id=m-docsinstallation-guideall-in-one-check>
<label for=m-docsinstallation-guideall-in-one-check><a href=/docs/installation-guide/all-in-one/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstallation-guideall-in-one><span>All In One 最小化部署</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstallation-guideinstall-on-k8s-li><input type=checkbox id=m-docsinstallation-guideinstall-on-k8s-check>
<label for=m-docsinstallation-guideinstall-on-k8s-check><a href=/docs/installation-guide/install-on-k8s/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstallation-guideinstall-on-k8s><span>在已有k8s集群中部署KubeCube</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstallation-guideadd-member-k8s-li><input type=checkbox id=m-docsinstallation-guideadd-member-k8s-check>
<label for=m-docsinstallation-guideadd-member-k8s-check><a href=/docs/installation-guide/add-member-k8s/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstallation-guideadd-member-k8s><span>添加计算集群</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstallation-guideadd-k8s-node-li><input type=checkbox id=m-docsinstallation-guideadd-k8s-node-check>
<label for=m-docsinstallation-guideadd-k8s-node-check><a href=/docs/installation-guide/add-k8s-node/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstallation-guideadd-k8s-node><span>添加节点</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstallation-guideinstall-on-multi-node-li><input type=checkbox id=m-docsinstallation-guideinstall-on-multi-node-check>
<label for=m-docsinstallation-guideinstall-on-multi-node-check><a href=/docs/installation-guide/install-on-multi-node/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstallation-guideinstall-on-multi-node><span>多节点高可用部署</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstallation-guideenable-plugins-li><input type=checkbox id=m-docsinstallation-guideenable-plugins-check>
<label for=m-docsinstallation-guideenable-plugins-check><a href=/docs/installation-guide/enable-plugins/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstallation-guideenable-plugins><span>热插拔</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsinstallation-guideexternal-system-access-li><input type=checkbox id=m-docsinstallation-guideexternal-system-access-check>
<label for=m-docsinstallation-guideexternal-system-access-check><a href=/docs/installation-guide/external-system-access/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsinstallation-guideexternal-system-access><span>已有系统接入</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstallation-guideexternal-system-accessprometheus-li><input type=checkbox id=m-docsinstallation-guideexternal-system-accessprometheus-check>
<label for=m-docsinstallation-guideexternal-system-accessprometheus-check><a href=/docs/installation-guide/external-system-access/prometheus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstallation-guideexternal-system-accessprometheus><span>Prometheus</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstallation-guideexternal-system-accesses-li><input type=checkbox id=m-docsinstallation-guideexternal-system-accesses-check>
<label for=m-docsinstallation-guideexternal-system-accesses-check><a href=/docs/installation-guide/external-system-access/es/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstallation-guideexternal-system-accesses><span>ElasticSearch</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsuser-guide-li><input type=checkbox id=m-docsuser-guide-check checked>
<label for=m-docsuser-guide-check><a href=/docs/user-guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guide><span>产品使用指南</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guideadministration-li><input type=checkbox id=m-docsuser-guideadministration-check>
<label for=m-docsuser-guideadministration-check><a href=/docs/user-guide/administration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guideadministration><span>运维管理</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationuser-li><input type=checkbox id=m-docsuser-guideadministrationuser-check>
<label for=m-docsuser-guideadministrationuser-check><a href=/docs/user-guide/administration/user/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationuser><span>用户管理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationtenant-li><input type=checkbox id=m-docsuser-guideadministrationtenant-check>
<label for=m-docsuser-guideadministrationtenant-check><a href=/docs/user-guide/administration/tenant/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationtenant><span>租户管理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationrole-li><input type=checkbox id=m-docsuser-guideadministrationrole-check>
<label for=m-docsuser-guideadministrationrole-check><a href=/docs/user-guide/administration/role/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationrole><span>角色管理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationquota-li><input type=checkbox id=m-docsuser-guideadministrationquota-check>
<label for=m-docsuser-guideadministrationquota-check><a href=/docs/user-guide/administration/quota/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationquota><span>配额管理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guideadministrationk8s-cluster-li><input type=checkbox id=m-docsuser-guideadministrationk8s-cluster-check>
<label for=m-docsuser-guideadministrationk8s-cluster-check><a href=/docs/user-guide/administration/k8s-cluster/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guideadministrationk8s-cluster><span>K8s集群管理</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationk8s-clustermulti-k8s-cluster-mgr-li><input type=checkbox id=m-docsuser-guideadministrationk8s-clustermulti-k8s-cluster-mgr-check>
<label for=m-docsuser-guideadministrationk8s-clustermulti-k8s-cluster-mgr-check><a href=/docs/user-guide/administration/k8s-cluster/multi-k8s-cluster-mgr/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationk8s-clustermulti-k8s-cluster-mgr><span>多集群管理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-res-li><input type=checkbox id=m-docsuser-guideadministrationk8s-clustercluster-scoped-res-check>
<label for=m-docsuser-guideadministrationk8s-clustercluster-scoped-res-check><a href=/docs/user-guide/administration/k8s-cluster/cluster-scoped-res/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-res><span>集群级资源管理</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-resstorageclass-li><input type=checkbox id=m-docsuser-guideadministrationk8s-clustercluster-scoped-resstorageclass-check>
<label for=m-docsuser-guideadministrationk8s-clustercluster-scoped-resstorageclass-check><a href=/docs/user-guide/administration/k8s-cluster/cluster-scoped-res/storageclass/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-resstorageclass><span>存储类别(StorageClass)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-respv-li><input type=checkbox id=m-docsuser-guideadministrationk8s-clustercluster-scoped-respv-check>
<label for=m-docsuser-guideadministrationk8s-clustercluster-scoped-respv-check><a href=/docs/user-guide/administration/k8s-cluster/cluster-scoped-res/pv/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-respv><span>存储声明(PV)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-resnode-li><input type=checkbox id=m-docsuser-guideadministrationk8s-clustercluster-scoped-resnode-check>
<label for=m-docsuser-guideadministrationk8s-clustercluster-scoped-resnode-check><a href=/docs/user-guide/administration/k8s-cluster/cluster-scoped-res/node/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-resnode><span>集群节点(Node)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-resnetworkpolicy-li><input type=checkbox id=m-docsuser-guideadministrationk8s-clustercluster-scoped-resnetworkpolicy-check>
<label for=m-docsuser-guideadministrationk8s-clustercluster-scoped-resnetworkpolicy-check><a href=/docs/user-guide/administration/k8s-cluster/cluster-scoped-res/networkpolicy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationk8s-clustercluster-scoped-resnetworkpolicy><span>网络策略(NetworkPolicy)</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideadministrationaudit-li><input type=checkbox id=m-docsuser-guideadministrationaudit-check>
<label for=m-docsuser-guideadministrationaudit-check><a href=/docs/user-guide/administration/audit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guideadministrationaudit><span>操作审计</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidens-scoped-res-li><input type=checkbox id=m-docsuser-guidens-scoped-res-check>
<label for=m-docsuser-guidens-scoped-res-check><a href=/docs/user-guide/ns-scoped-res/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidens-scoped-res><span>K8s资源管理</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidens-scoped-resworkload-li><input type=checkbox id=m-docsuser-guidens-scoped-resworkload-check>
<label for=m-docsuser-guidens-scoped-resworkload-check><a href=/docs/user-guide/ns-scoped-res/workload/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidens-scoped-resworkload><span>工作负载管理</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resworkloaddeployment-li><input type=checkbox id=m-docsuser-guidens-scoped-resworkloaddeployment-check>
<label for=m-docsuser-guidens-scoped-resworkloaddeployment-check><a href=/docs/user-guide/ns-scoped-res/workload/deployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resworkloaddeployment><span>Deployment</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resworkloadstatefulset-li><input type=checkbox id=m-docsuser-guidens-scoped-resworkloadstatefulset-check>
<label for=m-docsuser-guidens-scoped-resworkloadstatefulset-check><a href=/docs/user-guide/ns-scoped-res/workload/statefulset/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resworkloadstatefulset><span>StatefulSet</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resworkloadjob-li><input type=checkbox id=m-docsuser-guidens-scoped-resworkloadjob-check>
<label for=m-docsuser-guidens-scoped-resworkloadjob-check><a href=/docs/user-guide/ns-scoped-res/workload/job/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resworkloadjob><span>Job</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resworkloadcronjob-li><input type=checkbox id=m-docsuser-guidens-scoped-resworkloadcronjob-check>
<label for=m-docsuser-guidens-scoped-resworkloadcronjob-check><a href=/docs/user-guide/ns-scoped-res/workload/cronjob/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resworkloadcronjob><span>CronJob</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resworkloadpod-li><input type=checkbox id=m-docsuser-guidens-scoped-resworkloadpod-check>
<label for=m-docsuser-guidens-scoped-resworkloadpod-check><a href=/docs/user-guide/ns-scoped-res/workload/pod/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resworkloadpod><span>Pod</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resworkloadcrd-li><input type=checkbox id=m-docsuser-guidens-scoped-resworkloadcrd-check>
<label for=m-docsuser-guidens-scoped-resworkloadcrd-check><a href=/docs/user-guide/ns-scoped-res/workload/crd/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resworkloadcrd><span>CRD</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resworkloaddaemonset-li><input type=checkbox id=m-docsuser-guidens-scoped-resworkloaddaemonset-check>
<label for=m-docsuser-guidens-scoped-resworkloaddaemonset-check><a href=/docs/user-guide/ns-scoped-res/workload/daemonset/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resworkloaddaemonset><span>DaemonSet</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidens-scoped-resservice-discovery-li><input type=checkbox id=m-docsuser-guidens-scoped-resservice-discovery-check>
<label for=m-docsuser-guidens-scoped-resservice-discovery-check><a href=/docs/user-guide/ns-scoped-res/service-discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidens-scoped-resservice-discovery><span>服务与发现</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resservice-discoveryservice-li><input type=checkbox id=m-docsuser-guidens-scoped-resservice-discoveryservice-check>
<label for=m-docsuser-guidens-scoped-resservice-discoveryservice-check><a href=/docs/user-guide/ns-scoped-res/service-discovery/service/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resservice-discoveryservice><span>Service</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resservice-discoveryingress-li><input type=checkbox id=m-docsuser-guidens-scoped-resservice-discoveryingress-check>
<label for=m-docsuser-guidens-scoped-resservice-discoveryingress-check><a href=/docs/user-guide/ns-scoped-res/service-discovery/ingress/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resservice-discoveryingress><span>Ingress</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidens-scoped-resconfig-li><input type=checkbox id=m-docsuser-guidens-scoped-resconfig-check>
<label for=m-docsuser-guidens-scoped-resconfig-check><a href=/docs/user-guide/ns-scoped-res/config/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidens-scoped-resconfig><span>配置管理</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resconfigsecret-li><input type=checkbox id=m-docsuser-guidens-scoped-resconfigsecret-check>
<label for=m-docsuser-guidens-scoped-resconfigsecret-check><a href=/docs/user-guide/ns-scoped-res/config/secret/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resconfigsecret><span>Secret</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resconfigconfigmap-li><input type=checkbox id=m-docsuser-guidens-scoped-resconfigconfigmap-check>
<label for=m-docsuser-guidens-scoped-resconfigconfigmap-check><a href=/docs/user-guide/ns-scoped-res/config/configmap/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resconfigconfigmap><span>ConfigMap</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidens-scoped-resstorage-li><input type=checkbox id=m-docsuser-guidens-scoped-resstorage-check>
<label for=m-docsuser-guidens-scoped-resstorage-check><a href=/docs/user-guide/ns-scoped-res/storage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidens-scoped-resstorage><span>存储管理</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resstoragepvc-li><input type=checkbox id=m-docsuser-guidens-scoped-resstoragepvc-check>
<label for=m-docsuser-guidens-scoped-resstoragepvc-check><a href=/docs/user-guide/ns-scoped-res/storage/pvc/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resstoragepvc><span>PVC</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidens-scoped-resothers-li><input type=checkbox id=m-docsuser-guidens-scoped-resothers-check>
<label for=m-docsuser-guidens-scoped-resothers-check><a href=/docs/user-guide/ns-scoped-res/others/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidens-scoped-resothers><span>其他</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resotherskey-manage-li><input type=checkbox id=m-docsuser-guidens-scoped-resotherskey-manage-check>
<label for=m-docsuser-guidens-scoped-resotherskey-manage-check><a href=/docs/user-guide/ns-scoped-res/others/key-manage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resotherskey-manage><span>密钥管理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidens-scoped-resothersyaml-deploy-li><input type=checkbox id=m-docsuser-guidens-scoped-resothersyaml-deploy-check>
<label for=m-docsuser-guidens-scoped-resothersyaml-deploy-check><a href=/docs/user-guide/ns-scoped-res/others/yaml-deploy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidens-scoped-resothersyaml-deploy><span>Yaml 编排</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidelogs-li><input type=checkbox id=m-docsuser-guidelogs-check>
<label for=m-docsuser-guidelogs-check><a href=/docs/user-guide/logs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidelogs><span>日志</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidelogslogconfigs-li><input type=checkbox id=m-docsuser-guidelogslogconfigs-check>
<label for=m-docsuser-guidelogslogconfigs-check><a href=/docs/user-guide/logs/logconfigs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidelogslogconfigs><span>采集任务管理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidelogssearch-li><input type=checkbox id=m-docsuser-guidelogssearch-check>
<label for=m-docsuser-guidelogssearch-check><a href=/docs/user-guide/logs/search/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidelogssearch><span>日志查询</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidealerting-li><input type=checkbox id=m-docsuser-guidealerting-check>
<label for=m-docsuser-guidealerting-check><a href=/docs/user-guide/alerting/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidealerting><span>告警管理</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidealertingalertmanager-config-li><input type=checkbox id=m-docsuser-guidealertingalertmanager-config-check>
<label for=m-docsuser-guidealertingalertmanager-config-check><a href=/docs/user-guide/alerting/alertmanager-config/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidealertingalertmanager-config><span>平台组件告警</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidealertingalerting-amc-li><input type=checkbox id=m-docsuser-guidealertingalerting-amc-check>
<label for=m-docsuser-guidealertingalerting-amc-check><a href=/docs/user-guide/alerting/alerting-amc/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidealertingalerting-amc><span>通知策略管理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidealertingalerting-rule-li><input type=checkbox id=m-docsuser-guidealertingalerting-rule-check>
<label for=m-docsuser-guidealertingalerting-rule-check><a href=/docs/user-guide/alerting/alerting-rule/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidealertingalerting-rule><span>告警规则管理</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser-guidemonitoring-li><input type=checkbox id=m-docsuser-guidemonitoring-check>
<label for=m-docsuser-guidemonitoring-check><a href=/docs/user-guide/monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidemonitoring><span>集群监控</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidemonitoringcomponent-monitoring-li><input type=checkbox id=m-docsuser-guidemonitoringcomponent-monitoring-check>
<label for=m-docsuser-guidemonitoringcomponent-monitoring-check><a href=/docs/user-guide/monitoring/component-monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidemonitoringcomponent-monitoring><span>平台组件监控</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guideregistry-li><input type=checkbox id=m-docsuser-guideregistry-check>
<label for=m-docsuser-guideregistry-check><a href=/docs/user-guide/registry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guideregistry><span>镜像仓库</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsuser-guidenetwork-storage-li><input type=checkbox id=m-docsuser-guidenetwork-storage-check checked>
<label for=m-docsuser-guidenetwork-storage-check><a href=/docs/user-guide/network-storage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidenetwork-storage><span>网络存储</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsuser-guidenetwork-storagenfs-li><input type=checkbox id=m-docsuser-guidenetwork-storagenfs-check checked>
<label for=m-docsuser-guidenetwork-storagenfs-check><a href=/docs/user-guide/network-storage/nfs/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidenetwork-storagenfs><span class=td-sidebar-nav-active-item>NFS服务</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidenetwork-storageceph-li><input type=checkbox id=m-docsuser-guidenetwork-storageceph-check>
<label for=m-docsuser-guidenetwork-storageceph-check><a href=/docs/user-guide/network-storage/ceph/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser-guidenetwork-storageceph><span>Ceph集群</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser-guidekubediag-li><input type=checkbox id=m-docsuser-guidekubediag-check>
<label for=m-docsuser-guidekubediag-check><a href=/docs/user-guide/kubediag/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser-guidekubediag><span>排障系统</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsdeveloper-guide-li><input type=checkbox id=m-docsdeveloper-guide-check>
<label for=m-docsdeveloper-guide-check><a href=/docs/developer-guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsdeveloper-guide><span>开发指南</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloper-guideopenapi-guide-li><input type=checkbox id=m-docsdeveloper-guideopenapi-guide-check>
<label for=m-docsdeveloper-guideopenapi-guide-check><a href=/docs/developer-guide/openapi-guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloper-guideopenapi-guide><span>OpenAPI使用指南</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloper-guideapi-docs-li><input type=checkbox id=m-docsdeveloper-guideapi-docs-check>
<label for=m-docsdeveloper-guideapi-docs-check><a href=/docs/developer-guide/api-docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloper-guideapi-docs><span>自研接口文档</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloper-guidecontributing-li><input type=checkbox id=m-docsdeveloper-guidecontributing-check>
<label for=m-docsdeveloper-guidecontributing-check><a href=/docs/developer-guide/contributing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloper-guidecontributing><span>参与贡献</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloper-guidedebug-li><input type=checkbox id=m-docsdeveloper-guidedebug-check>
<label for=m-docsdeveloper-guidedebug-check><a href=/docs/developer-guide/debug/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloper-guidedebug><span>如何调试</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsfaq-li><input type=checkbox id=m-docsfaq-check>
<label for=m-docsfaq-check><a href=/docs/faq/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsfaq><span>FAQ</span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/kubecube-io/kubecube-io.github.io/edit/main/content/zh/docs/user-guide/network-storage/nfs.md target=_blank><i class="fa fa-edit fa-fw"></i>编辑此页</a>
<a href="https://github.com/kubecube-io/kubecube-io.github.io/new/main/content/zh/docs/user-guide/network-storage/nfs.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i>添加子页面</a>
<a href="https://github.com/kubecube-io/kubecube-io.github.io/issues/new?title=NFS%e6%9c%8d%e5%8a%a1" target=_blank><i class="fab fa-github fa-fw"></i>提交文档问题</a>
<a href=https://github.com/kubecube-io/kubecube/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>提交项目问题</a>
<a id=print href=https://kubecube-io.github.io/docs/user-guide/network-storage/_print/><i class="fa fa-print fa-fw"></i>整节打印</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#准备工作>准备工作</a></li><li><a href=#创建-storageclass>创建 StorageClass</a><ul><li><a href=#配置-account-及相关权限>配置 account 及相关权限</a></li><li><a href=#创建-nfs-provisioner>创建 NFS Provisioner</a></li><li><a href=#创建-storageclass-1>创建 StorageClass</a></li></ul></li><li><a href=#创建-pvc>创建 PVC</a></li><li><a href=#创建工作负载>创建工作负载</a></li><li><a href=#检查结果>检查结果</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://kubecube-io.github.io/docs/>文档</a></li><li class=breadcrumb-item><a href=https://kubecube-io.github.io/docs/user-guide/>产品使用指南</a></li><li class=breadcrumb-item><a href=https://kubecube-io.github.io/docs/user-guide/network-storage/>网络存储</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://kubecube-io.github.io/docs/user-guide/network-storage/nfs/>NFS服务</a></li></ol></nav><div class=td-content><h1>NFS服务</h1><header class=article-meta></header><p>本文档介绍了如何在 KubeCube 上接入 NFS 服务。</p><h2 id=准备工作>准备工作</h2><p><strong>登录 NFS 服务器</strong></p><ol><li><p>通过 NFS 导出文件为 KubeCube 分配服务器访问权限</p><p>修改 <code>/etc/exports</code> 文件，添加 <code>{导出目录} {KubeCube应用所在节点IP}(rw,sync,no_subtree_check,insecure)</code>。如：</p><p><img src=/imgs/user-guide/network-storage/nfs/nfs-6.png alt=nfs-6></p></li><li><p>重新启动 NFS 服务器</p><pre><code class=language-ssh data-lang=ssh>systemctl restart nfs-kernel-server
</code></pre></li><li><p>为 KubeCube 打开防火墙</p><pre><code class=language-ssh data-lang=ssh>ufw allow from {KubeCube所在节点IP} to any port nfs
</code></pre></li></ol><p><strong>登录 K8s 集群 worker 节点</strong></p><ol><li><p>安装 NFS Common</p><p><code>apt-get install nfs-common</code> 或 <code>yum install nfs-utils</code>等。</p></li><li><p>修改<code>/etc/kubernetes/manifests/kube-apiserver.yaml</code>文件，添加<code>- --feature-gates=RemoveSelfLink=false</code>。</p></li></ol><h2 id=创建-storageclass>创建 StorageClass</h2><p>登录 KubeCube 所在节点，创建以下文件并 apply，请根据实际环境修改部分参数。</p><h3 id=配置-account-及相关权限>配置 account 及相关权限</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ServiceAccount</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># replace with namespace where provisioner is deployed</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>default       </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>#根据实际环境设定namespace,下面类同</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ClusterRole</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rbac.authorization.k8s.io/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner-runner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>rules</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>apiGroups</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>resources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;persistentvolumes&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>verbs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;get&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;list&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;watch&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;create&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;delete&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>apiGroups</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>resources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;persistentvolumeclaims&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>verbs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;get&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;list&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;watch&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;update&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>apiGroups</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;storage.k8s.io&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>resources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;storageclasses&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>verbs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;get&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;list&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;watch&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>apiGroups</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>resources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;events&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>verbs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;create&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;update&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;patch&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ClusterRoleBinding</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rbac.authorization.k8s.io/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>run-nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>subjects</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ServiceAccount</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic># replace with namespace where provisioner is deployed</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>default</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>roleRef</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ClusterRole</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner-runner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>apiGroup</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rbac.authorization.k8s.io</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Role</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rbac.authorization.k8s.io/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>leader-locking-nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic># replace with namespace where provisioner is deployed</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>default</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>rules</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>apiGroups</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>resources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;endpoints&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>verbs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;get&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;list&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;watch&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;create&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;update&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;patch&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>RoleBinding</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rbac.authorization.k8s.io/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>leader-locking-nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>subjects</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ServiceAccount</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic># replace with namespace where provisioner is deployed</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>default</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>roleRef</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Role</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>leader-locking-nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>apiGroup</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rbac.authorization.k8s.io</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h3 id=创建-nfs-provisioner>创建 NFS Provisioner</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>apps/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Deployment</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># replace with namespace where provisioner is deployed</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>default </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>#与RBAC文件中的namespace保持一致</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>replicas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>selector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>matchLabels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>strategy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Recreate</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>template</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>serviceAccountName</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>containers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-provisioner</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>quay.io/external_storage/nfs-client-provisioner:latest</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>volumeMounts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-root</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>mountPath</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/persistentvolumes</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>env</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>PROVISIONER_NAME</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>value</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>qgg-nfs-storage </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>#provisioner名称,请确保该名称与 nfs-StorageClass.yaml文件中的provisioner名称保持一致</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>NFS_SERVER</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>value</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>10.173.32.164</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#8f5902;font-style:italic>#NFS Server IP地址</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>NFS_PATH  </span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>value</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/mnt/linuxidc   </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>#NFS挂载卷</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nfs-client-root</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>nfs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>10.173.32.164</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic>#NFS Server IP地址</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/mnt/linuxidc    </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>#NFS 挂载卷</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h3 id=创建-storageclass-1>创建 StorageClass</h3><p>方式一：命令行操作</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>storage.k8s.io/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>StorageClass</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>managed-nfs-storage</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>provisioner</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>qgg-nfs-storage</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>#这里的名称要和provisioner配置文件中的环境变量PROVISIONER_NAME保持一致</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>parameters</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  	      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>archiveOnDelete</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;false&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>方式二：页面操作</p><ol><li>以平台管理员身份登录 KubeCube；</li><li>展开左侧菜单栏里的【资源管理】，点击【集群管理】进入集群管理页面，点击需要创建 StorageClass 的集群名称，进入集群详情页面，点击【存储类别】进入存储类别管理页面，点击【创建存储类别】，将方式一中的文件内容写入，点击【确定】，即创建出该 StorageClass。</li></ol><p><img src=/imgs/user-guide/network-storage/nfs/nfs-1.png alt=nfs-1></p><h2 id=创建-pvc>创建 PVC</h2><p>在控制台页面，选择租户和项目，选择集群和空间，点击左侧菜单栏【存储】进入存储管理页面。点击【创建存储声明】，存储类别可以选择已创建过的 StorageClass。</p><p><img src=/imgs/user-guide/network-storage/nfs/nfs-2.png alt=nfs-2></p><p>创建后可以看到 PVC 状态为 Bound。具体配置说明见 <a href=https://www.kubecube.io/docs/user-guide/ns-scoped-res/storage/pvc/>PVC管理</a>。</p><p><img src=/imgs/user-guide/network-storage/nfs/nfs-3.png alt=nfs-3></p><h2 id=创建工作负载>创建工作负载</h2><p>在创建工作负载时，点击【展开更多配置】-【挂载数据卷】-【PVC】-【参数】，可以选择上述创建的 PVC。</p><p><img src=/imgs/user-guide/network-storage/nfs/nfs-4.png alt=nfs-4></p><p>具体配置说明见 <a href=https://www.kubecube.io/docs/user-guide/ns-scoped-res/workload/>工作负载管理</a>。</p><h2 id=检查结果>检查结果</h2><p>创建挂载 PVC 的工作负载后，登录 NFS 服务器，进入导出目录，可以看到已经创建出一个新的文件夹，文件夹命名为 ${namespace}-${pvcName}-${pvName}。</p><p><img src=/imgs/user-guide/network-storage/nfs/nfs-5.png alt=nfs-5></p><div class="text-muted mt-5 pt-3 border-top">最后修改
September 10, 2021
: <a href=https://github.com/kubecube-io/kubecube-io.github.io/commit/7423e0a75657575a829a5813be905e5bff06770c>add version (7423e0a)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/kubecube-io/kubecube aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 KubeCube Project Authors All Rights Reserved</small>
<small class=ml-1><a href=http://www.apache.org/licenses/LICENSE-2.0 target=_blank rel=noopener>隐私政策</a></small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>